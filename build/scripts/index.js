var E=document.querySelector(".header"),A=document.querySelector(".page"),p=E.querySelector(".button-burger"),m=E.querySelector(".main-nav__list"),w=()=>m.classList.contains("main-nav__list--opened"),T=()=>{p.classList.remove("button-burger--opened"),p.classList.add("button-burger--closed"),m.classList.remove("main-nav__list--opened"),A.classList.remove("html-jswork"),document.removeEventListener("click",C)},z=()=>{p.classList.remove("button-burger--closed"),p.classList.add("button-burger--opened"),m.classList.add("main-nav__list--opened"),A.classList.add("html-jswork"),setTimeout(()=>{document.addEventListener("click",C),m.addEventListener("click",S,!0)},10)},I=()=>{w()?(T(),m.removeEventListener("click",S,!0)):z()};function C(t){w()&&!t.target.closest(".main-nav__list")&&!t.target.closest(".button-burger")&&(T(),m.removeEventListener("click",S,!0))}function O(t){let e=document.querySelector(t);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}function S(t){let e=t.target.closest(".main-nav__link");if(e&&w()){let n=e.getAttribute("href");if(n&&n.startsWith("#"))return t.preventDefault(),t.stopPropagation(),T(),m.removeEventListener("click",S,!0),setTimeout(()=>{O(n)},200),!1}}var M=()=>{p.addEventListener("click",I)};var W=document.querySelector(".projects__gallery-categories"),v=document.querySelector(".projects__gallery-slider--notmobile"),D=document.querySelectorAll(".projects__gallery-slide"),P=null,L=!1,y=()=>{if(!L){L=!0;try{let e=window.matchMedia("(min-width: 768px)").matches,n=e?"notMobile":"mobile";if(n===P){L=!1;return}e?(v.innerHTML="",D.forEach((o,s)=>{let c=o.cloneNode(!0);c.dataset.cloneOf=`${o.dataset.category}-${+s}`,v.appendChild(c)}),W.hidden=!0,v.hidden=!1):(v.innerHTML="",W.hidden=!1,v.hidden=!0),P=n}finally{L=!1}}},k=()=>{y();let t=window.matchMedia("(min-width: 768px)"),e=()=>{y()};t.addEventListener("change",e);let n;window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(()=>{y()},150)})};var R=()=>{let t=document.querySelector(".banners__slides-list"),e=document.querySelectorAll(".banners__slide"),n=document.querySelectorAll(".banners__pagination-button");if(!t||e.length===0)return null;let o=0,s="",c=()=>{e.forEach((i,u)=>{let a=i.querySelector(".banner__button");a&&(u===o?(a.dataset.hidden="false",a.setAttribute("tabindex","0")):(a.dataset.hidden="true",a.setAttribute("tabindex","-1")))})},d=i=>i===o||i<0||i>=e.length?e[o]:(e[o].classList.remove("banners__slide--active"),e[o].classList.remove("animated"),e[i].classList.add("banners__slide--active"),e[i].classList.add("animated"),f(i),b(i),o=i,e[i]);function f(i){n.forEach(u=>{u.classList.remove("banners__pagination-button--active")}),n[i]&&n[i].classList.add("banners__pagination-button--active")}c();function b(i){if(!e[0])return;window.innerWidth>=1024?s=30:s=20;let u=e[0].offsetWidth,a=i*(u+s);t.style.transform=`translateX(-${a}px)`,t.style.transition="transform 0.5s ease"}let r=()=>e[o],l=()=>o,g=()=>{n.forEach((u,a)=>{u.addEventListener("click",()=>d(a))});let i;window.addEventListener("resize",()=>{clearTimeout(i),i=setTimeout(()=>{b(o)},100)})};return(()=>{g(),e.length>0&&d(0)})(),{goToSlide:d,getCurrentSlide:r,getCurrentSlideIndex:l}};var q=()=>{let t=document.querySelectorAll(".scroll-section");if(t.length===0)return null;let e=(o,s)=>{o.forEach(c=>{c.isIntersecting&&c.intersectionRatio>=.5&&(c.target.classList.add("animated"),s.unobserve(c.target))})},n=new IntersectionObserver(e,{root:null,rootMargin:"0px 0px 0px 0px",threshold:.5});return t.forEach(o=>n.observe(o)),n};var j=()=>{let t=R(),e=q();if(t){let n=t.goToSlide;t.goToSlide=function(o){let s=n.call(this,o);return s&&o!==0&&e.disconnect(),s}}return{slider:t}};var x=()=>{let t=()=>{document.querySelectorAll(".projects__gallery-slider:not(.projects__gallery-slider--notmobile)").forEach(e=>{if(e.querySelectorAll(".projects__gallery-slide").length>1&&e.scrollWidth>e.clientWidth){e.style.overflowX="auto",e.style.scrollBehavior="smooth";let o=0;e.ontouchstart=s=>{o=s.touches[0].clientX},e.ontouchend=s=>{let c=s.changedTouches[0].clientX,d=o-c;Math.abs(d)>50&&(e.scrollLeft+=d>0?325:-325)}}})};t(),window.addEventListener("resize",t)};var h=document.querySelector(".hero__video"),X=document.querySelector(".hero__wrapper")||document.body,B=h.getBoundingClientRect().top+window.scrollY,N=()=>{if(window.innerWidth<=1279||window.innerWidth>=2561||!h)return;let t=!1,e=null;document.addEventListener("keydown",r=>{r.key==="Tab"&&(t=!0,clearTimeout(e),e=setTimeout(()=>{t=!1},3e3))}),document.addEventListener("mousedown",()=>{t=!1,clearTimeout(e)}),document.addEventListener("touchstart",()=>{t=!1,clearTimeout(e)});let n={PADDING:60,START_PERCENT:33,SCROLL_RANGE:300,ASPECT_RATIO:456/230},o=()=>{let r=X.offsetWidth;return window.innerWidth>=1920?r-n.PADDING:r},s=r=>{let l=r/n.ASPECT_RATIO;h.style.width=`${r}px`,h.style.height=`${l}px`},c=()=>{let r=o(),l=r*(n.START_PERCENT/100);return s(l),h.style.position="absolute",h.style.top=`${B}px`,{containerWidth:r,startWidth:l}},{containerWidth:d}=c(),f=d,b=window.scrollY;window.addEventListener("scroll",()=>{if(t)return;let r=Math.max(0,window.scrollY-b),g=1-(1-Math.min(1,r/n.SCROLL_RANGE))**1.5,_=n.START_PERCENT+(100-n.START_PERCENT)*g,i=f*(_/100);s(i)},{passive:!0}),window.addEventListener("resize",()=>{let r=parseFloat(h.style.width),l=o(),g=r/f*100,_=l*(g/100);s(_),f=l},{passive:!0})};window.addEventListener("DOMContentLoaded",()=>{M(),N(),j(),k(),setTimeout(()=>{x()},50)});
